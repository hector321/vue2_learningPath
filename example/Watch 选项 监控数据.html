<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Watch 选项 监控数据</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="../assets/js/vue.js"></script>
</head>
<body>
    <h1>Watch 选项 监控数据</h1>
    <hr>
    <div id="app">
        <p>今日温度：{{tep}}摄氏度</p>
        <p>穿衣建议：{{advice}}</p>
        <p><button @click="add">add</button> <button @click="minus">minus</button></p>
    </div>

    <script>
        var app=new Vue({
            el:'#app',
            data:function(){
                return {
                    tep:15,
                    advice:"",
                    adviceList:["穿多点","穿少点","别光着就行"]
                }
            },
            methods:{
                add:function(){
                    this.tep-=-1;
                },
                minus:function(){
                    this.tep-=1;
                }
            },
            // 写法二
            // watch:{
            //     //需要与属性对应
            //     tep:{
            //         handler:function(newV,oldV){
            //             if(newV>25){
            //                 this.advice=this.adviceList[1]
            //             }else if(newV<15){
            //                 this.advice=this.adviceList[0]
            //             }else{
            //                 this.advice=this.adviceList[2]
            //             }
            //         },
            //         immediate:true //开始监听后立即调用
            //     }
            // }
        })
        // 写法一
        app.$watch("tep",{
            handler:function(newV,oldV){
                if(newV>25){
                    this.advice=this.adviceList[1]
                }else if(newV<15){
                    this.advice=this.adviceList[0]
                }else{
                    this.advice=this.adviceList[2]
                }
            },
            immediate:true //开始监听后立即调用
        })
    </script>
</body>
</html>